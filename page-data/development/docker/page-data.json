{"componentChunkName":"component---src-templates-blog-post-js","path":"/development/docker/","result":{"data":{"site":{"siteMetadata":{"title":"docker memo","author":"[m9752]","siteUrl":"https://m9752.github.io","comment":{"disqusShortName":"","utterances":"m9752/blog-comments"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"0199bf66-8734-5ce6-a2ab-2b47a8e1a7c8","excerpt":"Docker 바로가기  Oracle 11g  mariadb  Gitlab  Jenkins  Tomcat  Tomcat (경량화)  Tomcat (한번 더 경량화)  system1  Docker Registry  SonarQube  Nexus  yona 참조 페이지 기본 명령어 docker 네트워크 생성 컨테이너끼리 통신하기 위한 네트워크 nw1 를 생성합니다.  Oracle 11g 11g를 사용했습니다. 12c 버전도 있습니다. 😐   11g : https://github.com/jaspeen…","html":"<h1 id=\"docker\" style=\"position:relative;\"><a href=\"#docker\" aria-label=\"docker permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker</h1>\n<h2 id=\"바로가기\" style=\"position:relative;\"><a href=\"#%EB%B0%94%EB%A1%9C%EA%B0%80%EA%B8%B0\" aria-label=\"바로가기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>바로가기</h2>\n<ol>\n<li><a href=\"#code-classlanguage-textdbcode-oracle-11g\"><code class=\"language-text\">DB</code> Oracle 11g</a></li>\n<li><a href=\"#code-classlanguage-textdbcode-mariadb\"><code class=\"language-text\">DB</code> mariadb</a></li>\n<li><a href=\"#code-classlanguage-text%EB%B2%84%EC%A0%84%EA%B4%80%EB%A6%AC%EC%8B%9C%EC%8A%A4%ED%85%9Ccode-gitlab\"><code class=\"language-text\">버전관리시스템</code> Gitlab</a></li>\n<li><a href=\"#code-classlanguage-textcicdcode-jenkins\"><code class=\"language-text\">CI/CD</code> Jenkins</a></li>\n<li><a href=\"#code-classlanguage-textwebwascode-tomcat\"><code class=\"language-text\">WEB/WAS</code> Tomcat</a></li>\n<li><a href=\"#code-classlanguage-textwebwascode-tomcat-%EA%B2%BD%EB%9F%89%ED%99%94\"><code class=\"language-text\">WEB/WAS</code> Tomcat (경량화)</a></li>\n<li><a href=\"#code-classlanguage-textwebwascode-tomcat-%ED%95%9C%EB%B2%88-%EB%8D%94-%EA%B2%BD%EB%9F%89%ED%99%94\"><code class=\"language-text\">WEB/WAS</code> Tomcat (한번 더 경량화)</a></li>\n<li><a href=\"#code-classlanguage-text%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8code-system1\"><code class=\"language-text\">테스트 프로젝트</code> system1</a></li>\n<li><a href=\"#code-classlanguage-textdocker-registrycode-docker-registry\"><code class=\"language-text\">Docker 저장소</code> Docker Registry</a></li>\n<li><a href=\"#code-classlanguage-text%EC%BD%94%EB%93%9C-%EC%A0%95%EC%A0%81%EB%B6%84%EC%84%9Dcode-sonarqube\"><code class=\"language-text\">코드 정적분석</code> SonarQube</a></li>\n<li><a href=\"#code-classlanguage-text%EC%82%AC%EC%84%A4-%EC%A0%80%EC%9E%A5%EC%86%8Ccode-nexus\"><code class=\"language-text\">사설 저장소</code> Nexus</a></li>\n<li><a href=\"#code-classlanguage-text%EC%9D%B4%EC%8A%88-%ED%8A%B8%EB%9E%98%EC%BB%A4code-yona\"><code class=\"language-text\">이슈 트래커</code> yona</a></li>\n<li><a href=\"#%EC%B0%B8%EC%A1%B0-%ED%8E%98%EC%9D%B4%EC%A7%80\">참조 페이지</a></li>\n</ol>\n<h2 id=\"기본-명령어\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"기본 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본 명령어</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 시작 / 중지</span>\n$ docker start<span class=\"token punctuation\">(</span>stop<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span>컨테이너명<span class=\"token operator\">></span>\n$ docker stop <span class=\"token operator\">&lt;</span>컨테이너명<span class=\"token operator\">></span>\n<span class=\"token comment\"># 모든 컨테이너 중지</span>\n$ docker stop <span class=\"token variable\"><span class=\"token variable\">$(</span>docker <span class=\"token function\">ps</span> -aq<span class=\"token variable\">)</span></span>\n\n<span class=\"token comment\"># 컨테이너 프로세스 확인</span>\n$ docker <span class=\"token function\">ps</span> -a\n\n<span class=\"token comment\"># 컨테이너 삭제</span>\n$ docker <span class=\"token function\">rm</span> <span class=\"token operator\">&lt;</span>컨테이너명<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># 이미지 확인</span>\n$ docker images\n\n<span class=\"token comment\"># 이미지 삭제</span>\n$ docker rmi <span class=\"token operator\">&lt;</span>이미지 아이디<span class=\"token operator\">></span>\n$ docker rmi <span class=\"token variable\"><span class=\"token variable\">$(</span>docker images -f <span class=\"token string\">\"dangling=true\"</span> -q<span class=\"token variable\">)</span></span>\n\n<span class=\"token comment\"># 로그 출력</span>\n$ docker logs -f <span class=\"token operator\">&lt;</span>컨테이너명<span class=\"token operator\">></span>\n$ docker logs -f --tail <span class=\"token number\">30</span> <span class=\"token operator\">&lt;</span>컨테이너명<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># docker bash 접속</span>\n$ docker <span class=\"token builtin class-name\">exec</span> -it <span class=\"token operator\">&lt;</span>컨테이너명<span class=\"token operator\">></span> /bin/bash\n\n<span class=\"token comment\"># 컨테이너 정보</span>\n$ docker inspect <span class=\"token operator\">&lt;</span>컨테이너명<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># docker-compose 사용 (docker-compose.yml 작성 후 사용)</span>\n<span class=\"token comment\">## 백그라운드 생성</span>\n$ docker-compose up -d\n\n<span class=\"token comment\">## 중지 후 삭제</span>\n$ docker-compose down\n\n<span class=\"token comment\">## docker build</span>\n$ docker build --tag m9752/system1:1.0 <span class=\"token builtin class-name\">.</span>\n\n<span class=\"token comment\">## docker hub push</span>\n$ docker push m9752/system1:1.0</code></pre></div>\n<h3 id=\"docker-네트워크-생성\" style=\"position:relative;\"><a href=\"#docker-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%83%9D%EC%84%B1\" aria-label=\"docker 네트워크 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>docker 네트워크 생성</h3>\n<ul>\n<li>컨테이너끼리 통신하기 위한 네트워크 nw1 를 생성합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ docker network create -d bridge nw1\n\n<span class=\"token comment\"># network 정보 확인</span>\n$ docker network inspect nw1</code></pre></div>\n<hr>\n<h2 id=\"code-classlanguage-textdbcode-oracle-11g\" style=\"position:relative;\"><a href=\"#code-classlanguage-textdbcode-oracle-11g\" aria-label=\"code classlanguage textdbcode oracle 11g permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">DB</code> Oracle 11g</h2>\n<ul>\n<li>11g를 사용했습니다. 12c 버전도 있습니다. 😐  </li>\n<li>11g : <a href=\"https://github.com/jaspeen/oracle-11g\">https://github.com/jaspeen/oracle-11g</a></li>\n<li>12c : <a href=\"https://github.com/MaksymBilenko/docker-oracle-12c\">https://github.com/MaksymBilenko/docker-oracle-12c</a></li>\n</ul>\n<h3 id=\"생성\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1\" aria-label=\"생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h3>\n<ul>\n<li>docker run 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ docker run -d --name ora11g <span class=\"token punctuation\">\\</span>\n    -p <span class=\"token number\">49160</span>:8080 <span class=\"token number\">49161</span>:1521 <span class=\"token punctuation\">\\</span>\n    -v /home/test/docker/oracle/data:/u01/app/oracle <span class=\"token punctuation\">\\</span> \n    jaspeen/oracle-xe-11g</code></pre></div>\n<ul>\n<li>docker-compose 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.0\"</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">oracle11g</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'jaspeen/oracle-xe-11g'</span>\n    <span class=\"token comment\">#restart: always</span>\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> ora11g\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'49160:8080'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'49161:1521'</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/oracle/data:/u01/app/oracle'</span>\n\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nw1</code></pre></div>\n<h3 id=\"oracle-db-adminuser-기본-정보\" style=\"position:relative;\"><a href=\"#oracle-db-adminuser-%EA%B8%B0%EB%B3%B8-%EC%A0%95%EB%B3%B4\" aria-label=\"oracle db adminuser 기본 정보 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>oracle db admin/user 기본 정보</h3>\n<ul>\n<li>hostname: localhost</li>\n<li>port: 1521</li>\n<li>sid: xe</li>\n<li>username/password: system / oracle</li>\n<li>Password for SYS &#x26; SYSTEM: oracle</li>\n<li>sqlplus 접속 : sqlplus sys as sysdba</li>\n<li>자세한 사용법은 github 참조 : <a href=\"https://github.com/jaspeen/oracle-11g\">https://github.com/jaspeen/oracle-11g</a></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 패스워드 변경</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">USER</span> SYS IDENTIFIED <span class=\"token keyword\">BY</span> <span class=\"token string\">\"&lt;password>\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">USER</span> SYSTEM IDENTIFIED <span class=\"token keyword\">BY</span> <span class=\"token string\">\"&lt;password>\"</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"시간-및-타임존-변경\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%EA%B0%84-%EB%B0%8F-%ED%83%80%EC%9E%84%EC%A1%B4-%EB%B3%80%EA%B2%BD\" aria-label=\"시간 및 타임존 변경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시간 및 타임존 변경</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ docker <span class=\"token builtin class-name\">exec</span> -it ora11g /bin/bash\n$ <span class=\"token function\">date</span>                  <span class=\"token comment\"># 시간 확인</span>\n$ <span class=\"token function\">date</span> --set<span class=\"token operator\">=</span><span class=\"token string\">'+9 hours'</span> <span class=\"token comment\"># 시간 변경</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 타임존 확인</span>\n<span class=\"token keyword\">SELECT</span> DBTIMEZONE <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span></code></pre></div>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"code-classlanguage-textdbcode-mariadb\" style=\"position:relative;\"><a href=\"#code-classlanguage-textdbcode-mariadb\" aria-label=\"code classlanguage textdbcode mariadb permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">DB</code> mariadb</h2>\n<h3 id=\"생성-1\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1-1\" aria-label=\"생성 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h3>\n<ul>\n<li>docker run 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ docker run -d --name mariadb <span class=\"token punctuation\">\\</span>\n    -p <span class=\"token number\">3306</span>:3306 <span class=\"token punctuation\">\\</span>\n    -v /home/test/mariadb/data:/var/lib/mysql <span class=\"token punctuation\">\\</span>\n    -e <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>password<span class=\"token operator\">></span> <span class=\"token punctuation\">\\</span>\n    mariadb:10.2</code></pre></div>\n<ul>\n<li>docker-compose 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.0\"</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">mariadb</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'mariadb:10.2'</span>\n    <span class=\"token comment\">#restart: always</span>\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> mariadb\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> MYSQL_ROOT_PASSWORD=dkssud\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'3306:3306'</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/mariadb/data:/var/lib/mysql'</span>\n\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nw1</code></pre></div>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"code-classlanguage-text버전관리시스템code-gitlab\" style=\"position:relative;\"><a href=\"#code-classlanguage-text%EB%B2%84%EC%A0%84%EA%B4%80%EB%A6%AC%EC%8B%9C%EC%8A%A4%ED%85%9Ccode-gitlab\" aria-label=\"code classlanguage text버전관리시스템code gitlab permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">버전관리시스템</code> Gitlab</h2>\n<ul>\n<li>소스 버전 관리 + 협업을 위한 Issue Tracker 기능</li>\n<li>설치형 Github</li>\n</ul>\n<h3 id=\"생성-2\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1-2\" aria-label=\"생성 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h3>\n<ul>\n<li>docker-compose 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.0\"</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">gitlab</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'gitlab/gitlab-ce:latest'</span>\n    <span class=\"token key atrule\">hostname</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'gitlab.example.com'</span>\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> gitlab\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">GITLAB_OMNIBUS_CONFIG</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        external_url 'http://gitlab.example.com'\n        # Add any other gitlab.rb configuration here, each on its own line</span>\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'11080:80'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'11443:443'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'11022:22'</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/gitlab/config:/etc/gitlab'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/gitlab/logs:/var/log/gitlab'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/gitlab/data:/var/opt/gitlab'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/gitlab/backups:/var/opt/gitlab/backups'</span>\n\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nw1</code></pre></div>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"code-classlanguage-textcicdcode-jenkins\" style=\"position:relative;\"><a href=\"#code-classlanguage-textcicdcode-jenkins\" aria-label=\"code classlanguage textcicdcode jenkins permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">CI/CD</code> jenkins</h2>\n<ul>\n<li>빌드 및 배포 자동화</li>\n</ul>\n<h3 id=\"생성-3\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1-3\" aria-label=\"생성 3 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h3>\n<ul>\n<li>docker-compose 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.0\"</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">jenkins</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#image: 'jenkins/jenkins:lts'</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'getintodevops/jenkins-withdocker:lts'</span>  <span class=\"token comment\"># 내부에 docker 설치된 jenkins</span>\n    <span class=\"token comment\">#restart: always</span>\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> jenkins\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'8200:8080'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'50200:50000'</span>\n    <span class=\"token key atrule\">expose</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'8080'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'50000'</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/var/run/docker.sock:/var/run/docker.sock'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/jenkins_home:/var/jenkins_home'</span>\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">TZ</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Asia/Seoul\"</span>\n\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nw1</code></pre></div>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"code-classlanguage-textwebwascode-tomcat\" style=\"position:relative;\"><a href=\"#code-classlanguage-textwebwascode-tomcat\" aria-label=\"code classlanguage textwebwascode tomcat permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">WEB/WAS</code> tomcat</h2>\n<ul>\n<li>WAS 서버</li>\n<li><code class=\"language-text\">jdk11</code> 환경에서 동작하는 <code class=\"language-text\">tomcat 9</code> 버전</li>\n<li>\n<p>참조 Dockerfile</p>\n<ul>\n<li>openjdk-buster : <a href=\"https://github.com/docker-library/tomcat/blob/master/9.0/jdk11/openjdk-buster/Dockerfile\">https://github.com/docker-library/tomcat/blob/master/9.0/jdk11/openjdk-buster/Dockerfile</a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"생성-4\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1-4\" aria-label=\"생성 4 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h3>\n<ul>\n<li>먼저 위 링크의 Dockerfile로 <code class=\"language-text\">tomcat9:1.0</code> 이미지를 생성</li>\n</ul>\n<h4 id=\"이미지-생성\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1\" aria-label=\"이미지 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이미지 생성</h4>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ docker build --tag tomcat9:1.0 <span class=\"token builtin class-name\">.</span> </code></pre></div>\n<h4 id=\"컨테이너-생성\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EC%83%9D%EC%84%B1\" aria-label=\"컨테이너 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨테이너 생성</h4>\n<ul>\n<li>docker run 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ docker run -d --name tomcat9 \n      -p <span class=\"token number\">48080</span>:8080 <span class=\"token punctuation\">\\</span> \n\t\t\t-v /home/test/docker/tomcat9/conf:/usr/local/tomcat/conf <span class=\"token punctuation\">\\</span>\n\t\t\t-v /home/test/docker/tomcat9/logs:/usr/local/tomcat/logs <span class=\"token punctuation\">\\</span>\n\t\t\t-v /home/test/docker/tomcat9/webapps:/usr/local/tomcat/webapps <span class=\"token punctuation\">\\</span>\n      tomcat9:1.0</code></pre></div>\n<ul>\n<li>docker-compose 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.0\"</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">tomcat</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'tomcat9:1.0'</span>\n    <span class=\"token comment\">#restart: always</span>\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> tomcat9\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'48080:8080'</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/conf:/usr/local/tomcat/conf'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/logs:/usr/local/tomcat/logs'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/webapps:/usr/local/tomcat/webapps'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/secure:/usr/local/secure'</span>\n\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nw1</code></pre></div>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"code-classlanguage-textwebwascode-tomcat-경량화\" style=\"position:relative;\"><a href=\"#code-classlanguage-textwebwascode-tomcat-%EA%B2%BD%EB%9F%89%ED%99%94\" aria-label=\"code classlanguage textwebwascode tomcat 경량화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">WEB/WAS</code> tomcat (경량화)</h2>\n<ul>\n<li><code class=\"language-text\">jdk11</code> 환경에서 동작하는 <code class=\"language-text\">tomcat 9</code> 버전</li>\n<li><code class=\"language-text\">alpine</code> 리눅스 기반의 base image를 사용하여 이미지 경량화</li>\n<li>기존 이미지 668MB, 경량화한 이미지 360MB로 절반 가깝게 용량 축소 🎉</li>\n</ul>\n<h3 id=\"생성-5\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1-5\" aria-label=\"생성 5 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h3>\n<h4 id=\"이미지-생성-1\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1-1\" aria-label=\"이미지 생성 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이미지 생성</h4>\n<ul>\n<li>Dockerfile로 먼저 <code class=\"language-text\">tomcat9-alpine:1.0</code> 이미지를 생성합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ docker build --tag tomcat9-alpine:1.0 <span class=\"token builtin class-name\">.</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Dockerfile</span>\nFROM openjdk11-alpine:1.0\n\nENV <span class=\"token assign-left variable\">TOMCAT_MAJOR</span><span class=\"token operator\">=</span><span class=\"token number\">9</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token assign-left variable\">TOMCAT_VERSION</span><span class=\"token operator\">=</span><span class=\"token number\">9.0</span>.43\n\nRUN apk -U upgrade --update <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">wget</span> -O /tmp/apache-tomcat.tar.gz https://archive.apache.org/dist/tomcat/tomcat-<span class=\"token variable\">${TOMCAT_MAJOR}</span>/v<span class=\"token variable\">${TOMCAT_VERSION}</span>/bin/apache-tomcat-<span class=\"token variable\">${TOMCAT_VERSION}</span>.tar.gz <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">tar</span> -C /opt -xvf /tmp/apache-tomcat.tar.gz <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">ln</span> -s /opt/apache-tomcat-<span class=\"token variable\">${TOMCAT_VERSION}</span>/ /usr/local/tomcat <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">rm</span> -rf /usr/local/tomcat/webapps/* <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">rm</span> -rf /tmp/apache-tomcat.tar.gz <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    addgroup -g <span class=\"token number\">2000</span> tomcat <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    adduser -h /usr/local/tomcat -u <span class=\"token number\">2000</span> -G tomcat -s /bin/sh -D tomcat <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">mkdir</span> -p /usr/local/tomcat/logs <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">mkdir</span> -p /usr/local/tomcat/work <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">chown</span> -R tomcat:tomcat /usr/local/tomcat/ <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">chmod</span> -R u+wxr /usr/local/tomcat\n\nENV CATALINA_HOME /usr/local/tomcat/\nENV <span class=\"token environment constant\">PATH</span> <span class=\"token variable\">$CATALINA_HOME</span>/bin:<span class=\"token environment constant\">$PATH</span>\nENV <span class=\"token assign-left variable\">TOMCAT_NATIVE_LIBDIR</span><span class=\"token operator\">=</span><span class=\"token variable\">$CATALINA_HOME</span>/native-jni-lib\nENV <span class=\"token assign-left variable\">LD_LIBRARY_PATH</span><span class=\"token operator\">=</span><span class=\"token variable\">$CATALINA_HOME</span>/native-jni-lib\n\nWORKDIR <span class=\"token variable\">$CATALINA_HOME</span>\n<span class=\"token environment constant\">USER</span> root\nEXPOSE <span class=\"token number\">8080</span>\n\nCMD <span class=\"token punctuation\">[</span><span class=\"token string\">\"catalina.sh\"</span>, <span class=\"token string\">\"run\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h4 id=\"컨테이너-생성-1\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EC%83%9D%EC%84%B1-1\" aria-label=\"컨테이너 생성 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨테이너 생성</h4>\n<ul>\n<li>docker run 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ docker run -d --name tomcat9-alpine\n      -p <span class=\"token number\">23456</span>:8080 <span class=\"token punctuation\">\\</span> \n\t\t\t-v /home/test/docker/tomcat9/conf:/usr/local/tomcat/conf <span class=\"token punctuation\">\\</span>\n\t\t\t-v /home/test/docker/tomcat9/logs:/usr/local/tomcat/logs <span class=\"token punctuation\">\\</span>\n\t\t\t-v /home/test/docker/tomcat9/webapps:/usr/local/tomcat/webapps <span class=\"token punctuation\">\\</span>\n      tomcat9-alpine:1.0</code></pre></div>\n<ul>\n<li>docker-compose 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.0\"</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">tomcat</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'tomcat9-alpine:1.0'</span>\n    <span class=\"token comment\">#restart: always</span>\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> tomcat9_alpine\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'48080:8080'</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/conf:/usr/local/tomcat/conf'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/logs:/usr/local/tomcat/logs'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/webapps:/usr/local/tomcat/webapps'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/secure:/usr/local/secure'</span>\n\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nw1</code></pre></div>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"code-classlanguage-textwebwascode-tomcat-한번-더-경량화\" style=\"position:relative;\"><a href=\"#code-classlanguage-textwebwascode-tomcat-%ED%95%9C%EB%B2%88-%EB%8D%94-%EA%B2%BD%EB%9F%89%ED%99%94\" aria-label=\"code classlanguage textwebwascode tomcat 한번 더 경량화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">WEB/WAS</code> tomcat (한번 더 경량화)</h2>\n<ul>\n<li>\n<p><code class=\"language-text\">jre11</code> 환경에서 동작하는 <code class=\"language-text\">tomcat 9</code> 버전</p>\n<ul>\n<li>개발 시에는 JDK가 필요하지만 단순 실행의 경우는 적은 용량의 JRE만 있어도 동작함</li>\n<li>JDK: JAVA Development Kit, JRE: JAVA Runtime Environment</li>\n</ul>\n</li>\n<li>base image는 <code class=\"language-text\">alpine</code> 리눅스 사용\n<br/><br/></li>\n<li>이미지별 용량 비교\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1089px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 10%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAcUlEQVQI1x2KQQrDIBAA8wsR6iEWBKHuYjSpu4eSmJWk0Pz/O5XMaRhmqKV8RVprzJxTQkRAIOI5ZwSIMW61nsfJTH3o3gsRFSre+0EAPikFRDuOjxut9SuEp7VdjDF133/XNU2RmETEObeu23tZlFJ/84EXw/XDhjsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"docker tomcat 01\"\n        title=\"docker tomcat 01\"\n        src=\"/static/df8fc1953edb864be939cffb289b0309/96e86/docker_tomcat_01.png\"\n        srcset=\"/static/df8fc1953edb864be939cffb289b0309/5a46d/docker_tomcat_01.png 300w,\n/static/df8fc1953edb864be939cffb289b0309/0a47e/docker_tomcat_01.png 600w,\n/static/df8fc1953edb864be939cffb289b0309/96e86/docker_tomcat_01.png 1089w\"\n        sizes=\"(max-width: 1089px) 100vw, 1089px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>구분</th>\n<th>용량</th>\n<th>비고</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>기존</td>\n<td>668MB</td>\n<td>-</td>\n</tr>\n<tr>\n<td>경량화1</td>\n<td>360MB</td>\n<td>alpine</td>\n</tr>\n<tr>\n<td>경량화2</td>\n<td><em>212MB</em></td>\n<td>alpine+JRE</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>\n<p>참조 Dockerfile</p>\n<ul>\n<li>fabric8/java-alpine-openjdk11-jre : <a href=\"https://hub.docker.com/r/fabric8/java-alpine-openjdk11-jre\">https://hub.docker.com/r/fabric8/java-alpine-openjdk11-jre</a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"생성-6\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1-6\" aria-label=\"생성 6 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h3>\n<ul>\n<li>위 링크의 Docker 이미지 기반으로 생성</li>\n</ul>\n<h4 id=\"이미지-생성-2\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1-2\" aria-label=\"이미지 생성 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이미지 생성</h4>\n<ul>\n<li>이미지명 <em>tomcat9-alpine-jre11</em> 로 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">FROM fabric8/java-alpine-openjdk11-jre:1.8.1\n\nENV <span class=\"token assign-left variable\">TOMCAT_MAJOR</span><span class=\"token operator\">=</span><span class=\"token number\">9</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token assign-left variable\">TOMCAT_VERSION</span><span class=\"token operator\">=</span><span class=\"token number\">9.0</span>.43\n\nRUN apk -U upgrade --update <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">wget</span> -O /tmp/apache-tomcat.tar.gz https://archive.apache.org/dist/tomcat/tomcat-<span class=\"token variable\">${TOMCAT_MAJOR}</span>/v<span class=\"token variable\">${TOMCAT_VERSION}</span>/bin/apache-tomcat-<span class=\"token variable\">${TOMCAT_VERSION}</span>.tar.gz <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">tar</span> -C /opt -xvf /tmp/apache-tomcat.tar.gz <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">ln</span> -s /opt/apache-tomcat-<span class=\"token variable\">${TOMCAT_VERSION}</span>/ /usr/local/tomcat <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">rm</span> -rf /usr/local/tomcat/webapps/* <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">rm</span> -rf /tmp/apache-tomcat.tar.gz <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    addgroup -g <span class=\"token number\">2000</span> tomcat <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    adduser -h /usr/local/tomcat -u <span class=\"token number\">2000</span> -G tomcat -s /bin/sh -D tomcat <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">mkdir</span> -p /usr/local/tomcat/logs <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">mkdir</span> -p /usr/local/tomcat/work <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">chown</span> -R tomcat:tomcat /usr/local/tomcat/ <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">\\</span>\n    <span class=\"token function\">chmod</span> -R u+wxr /usr/local/tomcat\n\nENV CATALINA_HOME /usr/local/tomcat/\nENV <span class=\"token environment constant\">PATH</span> <span class=\"token variable\">$CATALINA_HOME</span>/bin:<span class=\"token environment constant\">$PATH</span>\nENV <span class=\"token assign-left variable\">TOMCAT_NATIVE_LIBDIR</span><span class=\"token operator\">=</span><span class=\"token variable\">$CATALINA_HOME</span>/native-jni-lib\nENV <span class=\"token assign-left variable\">LD_LIBRARY_PATH</span><span class=\"token operator\">=</span><span class=\"token variable\">$CATALINA_HOME</span>/native-jni-lib\n\nWORKDIR <span class=\"token variable\">$CATALINA_HOME</span>\n<span class=\"token environment constant\">USER</span> root\nEXPOSE <span class=\"token number\">8080</span>\n\nCMD <span class=\"token punctuation\">[</span><span class=\"token string\">\"catalina.sh\"</span>, <span class=\"token string\">\"run\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h4 id=\"컨테이너-생성-2\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EC%83%9D%EC%84%B1-2\" aria-label=\"컨테이너 생성 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨테이너 생성</h4>\n<ul>\n<li>docker run 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ docker run -d --name tomcat9_alpine_jre11 \n      -p <span class=\"token number\">48080</span>:8080 <span class=\"token punctuation\">\\</span> \n\t\t\t-v /home/test/docker/tomcat9/conf:/usr/local/tomcat/conf <span class=\"token punctuation\">\\</span>\n\t\t\t-v /home/test/docker/tomcat9/logs:/usr/local/tomcat/logs <span class=\"token punctuation\">\\</span>\n\t\t\t-v /home/test/docker/tomcat9/webapps:/usr/local/tomcat/webapps <span class=\"token punctuation\">\\</span>\n      tomcat9-alpine-jre11:1.0</code></pre></div>\n<ul>\n<li>docker-compose 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.0\"</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">tomcat</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'tomcat9-alpine-jre11:1.0'</span>\n    <span class=\"token comment\">#restart: always</span>\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> tomcat9_alpine_jre11\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'48080:8080'</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/conf:/usr/local/tomcat/conf'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/logs:/usr/local/tomcat/logs'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/webapps:/usr/local/tomcat/webapps'</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'/home/test/docker/tomcat9/secure:/usr/local/secure'</span>\n\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nw1</code></pre></div>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"code-classlanguage-text테스트-프로젝트code-system1\" style=\"position:relative;\"><a href=\"#code-classlanguage-text%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8code-system1\" aria-label=\"code classlanguage text테스트 프로젝트code system1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">테스트 프로젝트</code> system1</h2>\n<ul>\n<li>\n<p>Spring boot 기반, 테스트 용도의 토이 프로젝트.</p>\n<ul>\n<li><code class=\"language-text\">Spring Boot 2.3.9</code></li>\n<li><code class=\"language-text\">Spring Security</code> 적용</li>\n<li><code class=\"language-text\">bootstrap4</code> 기반 UI 적용</li>\n<li>free-jqgrid 사용</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"관련-오픈소스\" style=\"position:relative;\"><a href=\"#%EA%B4%80%EB%A0%A8-%EC%98%A4%ED%94%88%EC%86%8C%EC%8A%A4\" aria-label=\"관련 오픈소스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>관련 오픈소스</h3>\n<ul>\n<li>\n<p>carbon : Bootstrap 4 Admin Template</p>\n<ul>\n<li><a href=\"https://github.com/seguce92/carbon\">https://github.com/seguce92/carbon</a></li>\n</ul>\n</li>\n<li>\n<p>chart.js : Open source HTML5 Charts</p>\n<ul>\n<li><a href=\"https://www.chartjs.org/\">https://www.chartjs.org/</a></li>\n</ul>\n</li>\n<li>\n<p>prism.js : syntax highlighter</p>\n<ul>\n<li><a href=\"https://prismjs.com/\">https://prismjs.com/</a></li>\n</ul>\n</li>\n<li>\n<p>free-jqgrid 4.15.4</p>\n<ul>\n<li><a href=\"https://free-jqgrid.github.io/jqGrid/\">https://free-jqgrid.github.io/jqGrid/</a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"생성-7\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1-7\" aria-label=\"생성 7 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h3>\n<h4 id=\"이미지-생성-3\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1-3\" aria-label=\"이미지 생성 3 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이미지 생성</h4>\n<ul>\n<li>Dockerfile로 docker 이미지를 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># system1 배포용 docker image 생성</span>\n<span class=\"token comment\"># 1. tomcat9_alpine_jre11:1.0 를 base image로 사용</span>\nFROM tomcat9_alpine_jre11:1.0\n\n<span class=\"token comment\"># 2. server 설정 복사</span>\nCOPY ./server-setting/*.* /usr/local/tomcat/conf/\n\n<span class=\"token comment\"># 3. 키파일 복사</span>\nCOPY ./s1-secure/k.md /usr/local/secure/\n\n<span class=\"token comment\"># 4. war 복사</span>\nCOPY ./target/system1.war /usr/local/tomcat/webapps\n\n<span class=\"token comment\"># 5. java option 추가</span>\n<span class=\"token comment\"># 필요한 옵션이 있다면 추가</span>\n\n<span class=\"token comment\"># 6. docker container의 timezone을 서울로 변경</span>\nENV <span class=\"token assign-left variable\">TZ</span><span class=\"token operator\">=</span>Asia/Seoul\nRUN <span class=\"token function\">ln</span> -snf /usr/share/zoneinfo/<span class=\"token variable\">$TZ</span> /etc/localtime <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$TZ</span> <span class=\"token operator\">></span> /etc/timezone\n\n<span class=\"token comment\"># 7. 8080포트 열기</span>\nEXPOSE <span class=\"token number\">8080</span></code></pre></div>\n<h4 id=\"컨테이너-생성-3\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EC%83%9D%EC%84%B1-3\" aria-label=\"컨테이너 생성 3 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨테이너 생성</h4>\n<ul>\n<li>docker-compose 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.0\"</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">system1</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'m9752/system1:1.0'</span>\n    <span class=\"token comment\">#restart: always</span>\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> system1\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'19081:8080'</span>\n    <span class=\"token comment\"># 필요에 따라 디렉토리 설정할 것</span>\n    <span class=\"token comment\">#volumes:</span>\n      <span class=\"token comment\">#- '/home/test/docker/system1/conf:/usr/local/tomcat/conf'</span>\n      <span class=\"token comment\">#- '/home/test/docker/system1/logs:/usr/local/tomcat/logs'</span>\n      <span class=\"token comment\">#- '/home/test/docker/system1/webapps:/usr/local/tomcat/webapps'</span>\n      <span class=\"token comment\">#- '/home/test/docker/system1/secure:/usr/local/secure'</span>\n\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nw1</code></pre></div>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"code-classlanguage-textdocker-registrycode-docker-registry\" style=\"position:relative;\"><a href=\"#code-classlanguage-textdocker-registrycode-docker-registry\" aria-label=\"code classlanguage textdocker registrycode docker registry permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">Docker Registry</code> Docker Registry</h2>\n<ul>\n<li>docker 사설 저장소</li>\n</ul>\n<h3 id=\"생성-8\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1-8\" aria-label=\"생성 8 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h3>\n<ul>\n<li>docker-compose 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.0\"</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">web</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'registry'</span>\n    <span class=\"token comment\">#restart: always</span>\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> private<span class=\"token punctuation\">-</span>registry\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'5000:5000'</span>\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">TZ</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Asia/Seoul\"</span>\n\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nw1</code></pre></div>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"code-classlanguage-text코드-정적분석code-sonarqube\" style=\"position:relative;\"><a href=\"#code-classlanguage-text%EC%BD%94%EB%93%9C-%EC%A0%95%EC%A0%81%EB%B6%84%EC%84%9Dcode-sonarqube\" aria-label=\"code classlanguage text코드 정적분석code sonarqube permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">코드 정적분석</code> SonarQube</h2>\n<ul>\n<li><a href=\"https://www.sonarqube.org/\">https://www.sonarqube.org/</a>  </li>\n<li>docker : <a href=\"https://hub.docker.com/_/sonarqube/\">https://hub.docker.com/_/sonarqube/</a></li>\n</ul>\n<h3 id=\"docker-설치전-필요한-값-설정\" style=\"position:relative;\"><a href=\"#docker-%EC%84%A4%EC%B9%98%EC%A0%84-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B0%92-%EC%84%A4%EC%A0%95\" aria-label=\"docker 설치전 필요한 값 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>docker 설치전 필요한 값 설정</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ sysctl -w vm.max_map_count<span class=\"token operator\">=</span><span class=\"token number\">262144</span>\n$ sysctl -w fs.file-max<span class=\"token operator\">=</span><span class=\"token number\">65536</span>\n$ <span class=\"token builtin class-name\">ulimit</span> -n <span class=\"token number\">65536</span>\n$ <span class=\"token builtin class-name\">ulimit</span> -u <span class=\"token number\">4096</span></code></pre></div>\n<h3 id=\"생성-9\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1-9\" aria-label=\"생성 9 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h3>\n<ul>\n<li>\n<p>docker-compose 생성</p>\n<ul>\n<li>DB(postgreSQL)과 SonarQube 동시에 생성</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.1\"</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">sonarqube</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> sonarqube<span class=\"token punctuation\">:</span>8.7.1<span class=\"token punctuation\">-</span>community\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> sonarqube\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"9000:9000\"</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"9092:9092\"</span>\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> SONARQUBE_HOME=/opt/sonarqube\n      <span class=\"token punctuation\">-</span> SONARQUBE_JDBC_USERNAME=sonar\n      <span class=\"token punctuation\">-</span> SONARQUBE_JDBC_PASSWORD=sonar\n      <span class=\"token punctuation\">-</span> SONARQUBE_JDBC_URL=jdbc<span class=\"token punctuation\">:</span>postgresql<span class=\"token punctuation\">:</span>//db<span class=\"token punctuation\">:</span>5432/sonar\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /home/test/docker/sonarqube/conf<span class=\"token punctuation\">:</span>/opt/sonarqube/conf\n      <span class=\"token punctuation\">-</span> /home/test/docker/sonarqube/data<span class=\"token punctuation\">:</span>/opt/sonarqube/data\n      <span class=\"token punctuation\">-</span> /home/test/docker/sonarqube/logs<span class=\"token punctuation\">:</span>/opt/sonarqube/logs\n      <span class=\"token punctuation\">-</span> /home/test/docker/sonarqube/extensions<span class=\"token punctuation\">:</span>/opt/sonarqube/extensions\n\n  <span class=\"token key atrule\">db</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> postgres\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> postgres\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"5432:5432\"</span>\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> POSTGRES_USER=sonar\n      <span class=\"token punctuation\">-</span> POSTGRES_PASSWORD=sonar\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /home/test/docker/sonarqube/postgres<span class=\"token punctuation\">:</span>/var/lib/postgresql/data\n\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> nw1</code></pre></div>\n<h3 id=\"sonar-scannerproperties\" style=\"position:relative;\"><a href=\"#sonar-scannerproperties\" aria-label=\"sonar scannerproperties permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sonar-scanner.properties</h3>\n<ul>\n<li>sonar-scanner 설치 디렉토리에 위치</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token comment\">#Configure here general information about the environment, such as SonarQube server connection details for example</span>\n<span class=\"token comment\">#No information about specific project should appear here</span>\n<span class=\"token comment\"># Default SonarQube server</span>\n<span class=\"token attr-name\">sonar.host.url</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">http://localhost:9000</span>\n\n<span class=\"token comment\"># Default source code encoding</span>\n<span class=\"token attr-name\">sonar.sourceEncoding</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">UTF-8</span>\n\n<span class=\"token attr-name\">sonar.login</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">admin</span>\n<span class=\"token attr-name\">sonar.password</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">&lt;admin 패스워드></span></code></pre></div>\n<h3 id=\"sonar-projectproperties\" style=\"position:relative;\"><a href=\"#sonar-projectproperties\" aria-label=\"sonar projectproperties permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sonar-project.properties</h3>\n<ul>\n<li>보통 프로젝트 루트에 위치</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token attr-name\">sonar.login</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">&lt;sonarqube token 또는 project token></span>\n<span class=\"token attr-name\">sonar.projectKey</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">&lt;프로젝트키></span>\n<span class=\"token attr-name\">sonar.projectName</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">&lt;프로젝트명></span>\n<span class=\"token attr-name\">sonar.projectVersion</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">&lt;버전></span>\n \n<span class=\"token attr-name\">sonar.sources</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">src/main/java</span>\n<span class=\"token attr-name\">sonar.java.binaries</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">target/classes</span>\n\n<span class=\"token attr-name\">sonar.sourceEncoding</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">UTF-8</span></code></pre></div>\n<h3 id=\"sonar-scanner-실행\" style=\"position:relative;\"><a href=\"#sonar-scanner-%EC%8B%A4%ED%96%89\" aria-label=\"sonar scanner 실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sonar-scanner 실행</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># sonar-project.properties 있는 위치에서 실행</span>\n$ sonar-scanner -X -Dsonar.java.binaries<span class=\"token operator\">=</span>./target/classes\n$ sonar-scanner -X</code></pre></div>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"code-classlanguage-text사설-저장소code-nexus\" style=\"position:relative;\"><a href=\"#code-classlanguage-text%EC%82%AC%EC%84%A4-%EC%A0%80%EC%9E%A5%EC%86%8Ccode-nexus\" aria-label=\"code classlanguage text사설 저장소code nexus permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">사설 저장소</code> Nexus</h2>\n<ul>\n<li>사설 저장소 : <a href=\"https://www.sonatype.com/nexus/repository-oss?topnav=true\">https://www.sonatype.com/nexus/repository-oss?topnav=true</a></li>\n<li>maven 라이브러리 저장소로 사용</li>\n</ul>\n<h3 id=\"생성-10\" style=\"position:relative;\"><a href=\"#%EC%83%9D%EC%84%B1-10\" aria-label=\"생성 10 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>생성</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 디렉토리 생성 및 권한 설정</span>\n$ <span class=\"token function\">mkdir</span> -p /home/test/nexus/sonatype-work <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">sudo</span> <span class=\"token function\">chown</span> -R <span class=\"token number\">200</span> /home/test/nexus/sonatype-work\n\n<span class=\"token comment\"># 컨테이너 생성 (nexus2 oss)</span>\n$ docker run -d -p <span class=\"token number\">38081</span>:8081 --name nexus -v /home/test/nexus/sonatype-work:/sonatype-work sonatype/nexus:oss</code></pre></div>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"code-classlanguage-text이슈-트래커code-yona\" style=\"position:relative;\"><a href=\"#code-classlanguage-text%EC%9D%B4%EC%8A%88-%ED%8A%B8%EB%9E%98%EC%BB%A4code-yona\" aria-label=\"code classlanguage text이슈 트래커code yona permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">이슈 트래커</code> yona</h2>\n<ul>\n<li>설치형 이슈트래커 + Git/SVN 코드 저장소 : <a href=\"https://yona.io/\">https://yona.io/</a></li>\n<li>docker : <a href=\"https://github.com/pokev25/docker-yona\">https://github.com/pokev25/docker-yona</a></li>\n</ul>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>\n<hr>\n<h2 id=\"참조-페이지\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EC%A1%B0-%ED%8E%98%EC%9D%B4%EC%A7%80\" aria-label=\"참조 페이지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참조 페이지</h2>\n<ul>\n<li>도커 설치 : <a href=\"https://subicura.com/2017/01/19/docker-guide-for-beginners-2.html\">https://subicura.com/2017/01/19/docker-guide-for-beginners-2.html</a></li>\n<li>도커 참조 페이지들 : <a href=\"https://github.com/remotty/documents.docker.co.kr\">https://github.com/remotty/documents.docker.co.kr</a></li>\n<li>도커 무중단 배포 : <a href=\"https://subicura.com/2016/06/07/zero-downtime-docker-deployment.html\">https://subicura.com/2016/06/07/zero-downtime-docker-deployment.html</a></li>\n<li>도커 팁 : <a href=\"https://spoqa.github.io/2017/06/22/docker-tip.html\">https://spoqa.github.io/2017/06/22/docker-tip.html</a></li>\n<li>\n<p>network 관련</p>\n<ul>\n<li>docker network 컨테이너간 통신으로 구글링</li>\n<li><a href=\"https://www.daleseo.com/docker-compose-networks/\">https://www.daleseo.com/docker-compose-networks/</a></li>\n<li><a href=\"https://www.daleseo.com/docker-networks/\">https://www.daleseo.com/docker-networks/</a></li>\n<li><a href=\"https://galid1.tistory.com/723\">https://galid1.tistory.com/723</a></li>\n</ul>\n</li>\n<li>레지스트리 : <a href=\"https://novemberde.github.io/2017/04/09/Docker_Registry_0.html\">https://novemberde.github.io/2017/04/09/Docker_Registry_0.html</a></li>\n</ul>\n<p><a href=\"#docker\">👆 처음으로 돌아가기</a></p>","frontmatter":{"title":"1️⃣ Docker","date":"March 28, 2021"}}},"pageContext":{"slug":"/development/docker/","previous":{"fields":{"slug":"/development/테스트 서버/"},"frontmatter":{"title":"0️⃣ 테스트 서버","category":"development","draft":false}},"next":{"fields":{"slug":"/development/gitlab 설정/"},"frontmatter":{"title":"2️⃣ Gitlab 설정","category":"development","draft":false}}}},"staticQueryHashes":["3128451518","521680639"]}